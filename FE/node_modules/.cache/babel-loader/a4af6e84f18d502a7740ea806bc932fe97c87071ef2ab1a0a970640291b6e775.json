{"ast":null,"code":"import { mapState } from \"vuex\";\nimport OfficeMenuSideBar from \"@/components/omap/OfficeMenuSideBar.vue\";\nimport { apiInstance } from \"@/api/index.js\";\nconst http = apiInstance();\nconst mapStore = \"mapStore\";\nconst memberStore = \"memberStore\";\nexport default {\n  name: \"OfficeDetail\",\n  components: {\n    OfficeMenuSideBar\n  },\n  data() {\n    return {\n      around: \"\",\n      arounds: [\"스터디카페\", \"도서관\", \"지하철역\"],\n      like: false,\n      likeHouse: {\n        id: \"\",\n        name: \"\",\n        dong: \"\",\n        jibun: \"\",\n        type: \"\",\n        wal: 0,\n        jeon: 0,\n        floor: \"\",\n        sidoname: \"\"\n      },\n      check: false\n    };\n  },\n  mounted() {\n    this.checkLikeHouse();\n  },\n  computed: {\n    ...mapState(mapStore, [\"house\", \"selectsido\", \"sidos\"]),\n    ...mapState(memberStore, [\"userInfo\"]),\n    isLike() {\n      return this.like && this.check;\n    }\n  },\n  methods: {\n    searchAround() {\n      console.log(this.around);\n    },\n    goList() {\n      console.log(\"goList?\");\n      this.$emit(\"changeToggle3\", true);\n    },\n    changeBothFunc() {\n      this.changeHeart();\n      this.putLikeHouse();\n    },\n    unchangeBothFunc() {\n      this.changeHeart();\n      this.deleteLikeHouse();\n    },\n    changeHeart() {\n      this.like = !this.like;\n    },\n    putLikeHouse() {\n      this.likeHouse = {\n        id: this.userInfo.userId,\n        sidoname: \"\",\n        name: this.house.건물명,\n        dong: this.house.법정동,\n        jibun: String(this.house.지번),\n        type: \"월세\",\n        wal: this.house.월세,\n        jeon: parseInt(this.house.보증금),\n        floor: String(this.house.층)\n      };\n      if (this.house.월세 == 0) {\n        this.likeHouse.type = \"전세\";\n      }\n      let sidoname = \"\";\n      // 지역 코드 찾는 for문\n      for (let i = 0; i < 18; i++) {\n        if (this.selectsido == this.sidos[i].value) {\n          sidoname = this.sidos[i].text;\n          break;\n        }\n      }\n      this.likeHouse.sidoname = sidoname;\n      console.log(this.house);\n      console.log(\"찜목록에 추가된 하우스\", this.likeHouse);\n      console.log(\"stringfy\", JSON.stringify(this.likeHouse));\n      http.post(`/like/write`, JSON.stringify(this.likeHouse)).then(response => {\n        console.log(response);\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    deleteLikeHouse() {\n      http.post(`/like/delete`, JSON.stringify(this.likeHouse)).then(response => {\n        console.log(response);\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    checkLikeHouse() {\n      http.post(`/like/getOne`, JSON.stringify(this.likeHouse)).then(response => {\n        if (response == -1) {\n          this.check = false;\n        } else {\n          this.check = true;\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n  }\n};","map":{"version":3,"names":["mapState","OfficeMenuSideBar","apiInstance","http","mapStore","memberStore","name","components","data","around","arounds","like","likeHouse","id","dong","jibun","type","wal","jeon","floor","sidoname","check","mounted","checkLikeHouse","computed","isLike","methods","searchAround","console","log","goList","$emit","changeBothFunc","changeHeart","putLikeHouse","unchangeBothFunc","deleteLikeHouse","userInfo","userId","house","건물명","법정동","String","지번","월세","parseInt","보증금","층","i","selectsido","sidos","value","text","JSON","stringify","post","then","response","catch","error"],"sources":["src/components/omap/OfficeDetail.vue"],"sourcesContent":["<template>\n  <div>\n    <hr />\n    <b-container style=\"position: relative\">\n      <div style=\"position: relative; z-index: 1\">\n        <b-img :src=\"require('@/assets/' + house.이미지 + '.jpg')\" style=\"width: 100%\"></b-img>\n        <div style=\"position: absolute; top: 30px; right: 40px\">\n          <b-icon\n            icon=\"heart\"\n            scale=\"3\"\n            @click=\"changeBothFunc\"\n            v-if=\"isLike\"\n            style=\"color: red\"\n          ></b-icon>\n          <b-icon\n            icon=\"heart-fill\"\n            scale=\"3\"\n            @click=\"unchangeBothFunc\"\n            v-else\n            style=\"color: red\"\n          ></b-icon>\n        </div>\n      </div>\n      <hr />\n      <b-list-group>\n        <b-list-group-item v-if=\"house.월세 == 0\"> 전세 {{ house.보증금 }} 만원 </b-list-group-item>\n        <b-list-group-item v-else>\n          월세 {{ house.보증금 }} 만원 / {{ house.월세 }} 만원\n        </b-list-group-item>\n        <b-list-group-item>{{ house.건물명 }}</b-list-group-item>\n        <b-list-group-item>{{ house.법정동 }}-{{ house.지번 }} {{ house.층 }}층</b-list-group-item>\n        <b-list-group-item>{{ house.전용면적 }}㎡</b-list-group-item>\n      </b-list-group>\n    </b-container>\n\n    <hr />\n\n    <b-container class=\"mb-3\">\n      <b-form-select\n        style=\"float: left; width: 55%; height: 50px\"\n        v-model=\"around\"\n        :options=\"arounds\"\n      ></b-form-select>\n      <b-button size=\"lg\" style=\"float: right; width: 40%\">주변 시설 검색</b-button>\n    </b-container>\n    <b-container class=\"mb-3\">\n      <b-button size=\"lg\" style=\"float: right; width: 100%; margin-top: 10px\"\n        >주변 대학 검색</b-button\n      >\n    </b-container>\n    <b-container class=\"mb-3\">\n      <b-button v-b-toggle.sidebar-1 size=\"lg\" style=\"float: right; width: 100%; margin-top: 10px\"\n        >지원 제도 검색</b-button\n      >\n    </b-container>\n    <office-menu-side-bar></office-menu-side-bar>\n    <router-view />\n  </div>\n</template>\n<script>\nimport { mapState } from \"vuex\";\nimport OfficeMenuSideBar from \"@/components/omap/OfficeMenuSideBar.vue\";\nimport { apiInstance } from \"@/api/index.js\";\nconst http = apiInstance();\nconst mapStore = \"mapStore\";\nconst memberStore = \"memberStore\";\nexport default {\n  name: \"OfficeDetail\",\n  components: { OfficeMenuSideBar },\n  data() {\n    return {\n      around: \"\",\n      arounds: [\"스터디카페\", \"도서관\", \"지하철역\"],\n      like: false,\n      likeHouse: {\n        id: \"\",\n        name: \"\",\n        dong: \"\",\n        jibun: \"\",\n        type: \"\",\n        wal: 0,\n        jeon: 0,\n        floor: \"\",\n        sidoname: \"\",\n      },\n      check: false,\n    };\n  },\n  mounted() {\n    this.checkLikeHouse();\n  },\n  computed: {\n    ...mapState(mapStore, [\"house\", \"selectsido\", \"sidos\"]),\n    ...mapState(memberStore, [\"userInfo\"]),\n    isLike() {\n      return this.like && this.check;\n    },\n  },\n  methods: {\n    searchAround() {\n      console.log(this.around);\n    },\n    goList() {\n      console.log(\"goList?\");\n      this.$emit(\"changeToggle3\", true);\n    },\n    changeBothFunc() {\n      this.changeHeart();\n      this.putLikeHouse();\n    },\n    unchangeBothFunc() {\n      this.changeHeart();\n\n      this.deleteLikeHouse();\n    },\n    changeHeart() {\n      this.like = !this.like;\n    },\n    putLikeHouse() {\n      this.likeHouse = {\n        id: this.userInfo.userId,\n        sidoname: \"\",\n        name: this.house.건물명,\n        dong: this.house.법정동,\n        jibun: String(this.house.지번),\n        type: \"월세\",\n        wal: this.house.월세,\n        jeon: parseInt(this.house.보증금),\n        floor: String(this.house.층),\n      };\n      if (this.house.월세 == 0) {\n        this.likeHouse.type = \"전세\";\n      }\n\n      let sidoname = \"\";\n      // 지역 코드 찾는 for문\n      for (let i = 0; i < 18; i++) {\n        if (this.selectsido == this.sidos[i].value) {\n          sidoname = this.sidos[i].text;\n          break;\n        }\n      }\n\n      this.likeHouse.sidoname = sidoname;\n\n      console.log(this.house);\n\n      console.log(\"찜목록에 추가된 하우스\", this.likeHouse);\n      console.log(\"stringfy\", JSON.stringify(this.likeHouse));\n      http\n        .post(`/like/write`, JSON.stringify(this.likeHouse))\n        .then((response) => {\n          console.log(response);\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n    deleteLikeHouse() {\n      http\n        .post(`/like/delete`, JSON.stringify(this.likeHouse))\n        .then((response) => {\n          console.log(response);\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n    checkLikeHouse() {\n      http\n        .post(`/like/getOne`, JSON.stringify(this.likeHouse))\n        .then((response) => {\n          if (response == -1) {\n            this.check = false;\n          } else {\n            this.check = true;\n          }\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n  },\n};\n</script>\n<style scoped>\n.mb-3 {\n  margin-top: 20px;\n}\n</style>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}