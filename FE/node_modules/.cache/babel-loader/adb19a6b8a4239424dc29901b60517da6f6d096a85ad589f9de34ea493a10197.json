{"ast":null,"code":"export default {\n  name: \"OfficeMap\",\n  components: {},\n  props: {\n    addr: String\n  },\n  data() {\n    return {\n      map: null,\n      selectHouse: {}\n    };\n  },\n  computed: {},\n  created() {},\n  mounted() {\n    if (window.kakao && window.kakao.maps) {\n      this.loadMap(33.450701, 126.570667);\n    } else {\n      this.loadScript();\n    }\n  },\n  methods: {\n    // api 불러오기\n    loadScript() {\n      const script = document.createElement(\"script\");\n      script.src = \"//dapi.kakao.com/v2/maps/sdk.js?appkey=2c45a57d65518ab4eebc76e4b1a15772&autoload=false\";\n      script.onload = () => window.kakao.maps.load(() => this.loadMap(33.45071, 126.570667));\n      document.head.appendChild(script);\n    },\n    // 맵 출력하기\n    loadMap(lat, lng) {\n      const container = document.getElementById(\"map\");\n      const options = {\n        center: new window.kakao.maps.LatLng(lat, lng),\n        level: 3\n      };\n      this.map = new window.kakao.maps.Map(container, options);\n      this.loadMaker(lat, lng);\n    },\n    // 지정한 위치에 마커 불러오기\n    loadMaker(lat, lng) {\n      const markerPosition = new window.kakao.maps.LatLng(lat, lng);\n      const marker = new window.kakao.maps.Marker({\n        position: markerPosition\n      });\n      marker.setMap(this.map);\n    },\n    // 장소 좌표로 변경\n    convertLatLng() {\n      // 주소-좌표 변환 객체 생성\n      const geocoder = new window.kakao.maps.services.Geocoder();\n      const address = this.addr;\n      console.log(\"addr\", address);\n\n      // 주소로 좌표 변환 요청\n      geocoder.addressSearch(address, (result, status) => {\n        if (status === window.kakao.maps.services.Status.OK) {\n          // 좌표 변환 성공\n          const latitude = result[0].y; // 위도\n          const longitude = result[0].x; // 경도\n\n          console.log(\"lat\", latitude, \" lng\", longitude);\n\n          // 좌표를 활용하여 중심좌표 설정해 지도 다시 로드\n          this.loadMap(latitude, longitude);\n        } else {\n          // 좌표 변환 실패 또는 유효하지 않은 주소\n          console.error(\"Failed to convert address to coordinates:\", status);\n        }\n      });\n    }\n  },\n  watch: {\n    house() {\n      this.selectHouse = this.house;\n    }\n  }\n};","map":{"version":3,"names":["name","components","props","addr","String","data","map","selectHouse","computed","created","mounted","window","kakao","maps","loadMap","loadScript","methods","script","document","createElement","src","onload","load","head","appendChild","lat","lng","container","getElementById","options","center","LatLng","level","Map","loadMaker","markerPosition","marker","Marker","position","setMap","convertLatLng","geocoder","services","Geocoder","address","console","log","addressSearch","result","status","Status","OK","latitude","y","longitude","x","error","watch","house"],"sources":["src/components/omap/OfficeMap.vue"],"sourcesContent":["<template>\n  <div id=\"map\"></div>\n</template>\n\n<script>\nexport default {\n  name: \"OfficeMap\",\n  components: {},\n  props: {\n    addr: String,\n  },\n  data() {\n    return {\n      map: null,\n      selectHouse: {},\n    };\n  },\n  computed: {},\n  created() {},\n  mounted() {\n    if (window.kakao && window.kakao.maps) {\n      this.loadMap(33.450701, 126.570667);\n    } else {\n      this.loadScript();\n    }\n  },\n  methods: {\n    // api 불러오기\n    loadScript() {\n      const script = document.createElement(\"script\");\n      script.src =\n        \"//dapi.kakao.com/v2/maps/sdk.js?appkey=2c45a57d65518ab4eebc76e4b1a15772&autoload=false\";\n      script.onload = () => window.kakao.maps.load(() => this.loadMap(33.45071, 126.570667));\n\n      document.head.appendChild(script);\n    },\n    // 맵 출력하기\n    loadMap(lat, lng) {\n      const container = document.getElementById(\"map\");\n      const options = {\n        center: new window.kakao.maps.LatLng(lat, lng),\n        level: 3,\n      };\n\n      this.map = new window.kakao.maps.Map(container, options);\n      this.loadMaker(lat, lng);\n    },\n    // 지정한 위치에 마커 불러오기\n    loadMaker(lat, lng) {\n      const markerPosition = new window.kakao.maps.LatLng(lat, lng);\n\n      const marker = new window.kakao.maps.Marker({\n        position: markerPosition,\n      });\n\n      marker.setMap(this.map);\n    },\n    // 장소 좌표로 변경\n    convertLatLng() {\n      // 주소-좌표 변환 객체 생성\n      const geocoder = new window.kakao.maps.services.Geocoder();\n\n      const address = this.addr;\n\n      console.log(\"addr\", address);\n\n      // 주소로 좌표 변환 요청\n      geocoder.addressSearch(address, (result, status) => {\n        if (status === window.kakao.maps.services.Status.OK) {\n          // 좌표 변환 성공\n          const latitude = result[0].y; // 위도\n          const longitude = result[0].x; // 경도\n\n          console.log(\"lat\", latitude, \" lng\", longitude);\n\n          // 좌표를 활용하여 중심좌표 설정해 지도 다시 로드\n          this.loadMap(latitude, longitude);\n        } else {\n          // 좌표 변환 실패 또는 유효하지 않은 주소\n          console.error(\"Failed to convert address to coordinates:\", status);\n        }\n      });\n    },\n  },\n  watch: {\n    house() {\n      this.selectHouse = this.house;\n    },\n  },\n};\n</script>\n\n<style scoped></style>\n"],"mappings":"AAKA;EACAA,IAAA;EACAC,UAAA;EACAC,KAAA;IACAC,IAAA,EAAAC;EACA;EACAC,KAAA;IACA;MACAC,GAAA;MACAC,WAAA;IACA;EACA;EACAC,QAAA;EACAC,QAAA;EACAC,QAAA;IACA,IAAAC,MAAA,CAAAC,KAAA,IAAAD,MAAA,CAAAC,KAAA,CAAAC,IAAA;MACA,KAAAC,OAAA;IACA;MACA,KAAAC,UAAA;IACA;EACA;EACAC,OAAA;IACA;IACAD,WAAA;MACA,MAAAE,MAAA,GAAAC,QAAA,CAAAC,aAAA;MACAF,MAAA,CAAAG,GAAA,GACA;MACAH,MAAA,CAAAI,MAAA,SAAAV,MAAA,CAAAC,KAAA,CAAAC,IAAA,CAAAS,IAAA,YAAAR,OAAA;MAEAI,QAAA,CAAAK,IAAA,CAAAC,WAAA,CAAAP,MAAA;IACA;IACA;IACAH,QAAAW,GAAA,EAAAC,GAAA;MACA,MAAAC,SAAA,GAAAT,QAAA,CAAAU,cAAA;MACA,MAAAC,OAAA;QACAC,MAAA,MAAAnB,MAAA,CAAAC,KAAA,CAAAC,IAAA,CAAAkB,MAAA,CAAAN,GAAA,EAAAC,GAAA;QACAM,KAAA;MACA;MAEA,KAAA1B,GAAA,OAAAK,MAAA,CAAAC,KAAA,CAAAC,IAAA,CAAAoB,GAAA,CAAAN,SAAA,EAAAE,OAAA;MACA,KAAAK,SAAA,CAAAT,GAAA,EAAAC,GAAA;IACA;IACA;IACAQ,UAAAT,GAAA,EAAAC,GAAA;MACA,MAAAS,cAAA,OAAAxB,MAAA,CAAAC,KAAA,CAAAC,IAAA,CAAAkB,MAAA,CAAAN,GAAA,EAAAC,GAAA;MAEA,MAAAU,MAAA,OAAAzB,MAAA,CAAAC,KAAA,CAAAC,IAAA,CAAAwB,MAAA;QACAC,QAAA,EAAAH;MACA;MAEAC,MAAA,CAAAG,MAAA,MAAAjC,GAAA;IACA;IACA;IACAkC,cAAA;MACA;MACA,MAAAC,QAAA,OAAA9B,MAAA,CAAAC,KAAA,CAAAC,IAAA,CAAA6B,QAAA,CAAAC,QAAA;MAEA,MAAAC,OAAA,QAAAzC,IAAA;MAEA0C,OAAA,CAAAC,GAAA,SAAAF,OAAA;;MAEA;MACAH,QAAA,CAAAM,aAAA,CAAAH,OAAA,GAAAI,MAAA,EAAAC,MAAA;QACA,IAAAA,MAAA,KAAAtC,MAAA,CAAAC,KAAA,CAAAC,IAAA,CAAA6B,QAAA,CAAAQ,MAAA,CAAAC,EAAA;UACA;UACA,MAAAC,QAAA,GAAAJ,MAAA,IAAAK,CAAA;UACA,MAAAC,SAAA,GAAAN,MAAA,IAAAO,CAAA;;UAEAV,OAAA,CAAAC,GAAA,QAAAM,QAAA,UAAAE,SAAA;;UAEA;UACA,KAAAxC,OAAA,CAAAsC,QAAA,EAAAE,SAAA;QACA;UACA;UACAT,OAAA,CAAAW,KAAA,8CAAAP,MAAA;QACA;MACA;IACA;EACA;EACAQ,KAAA;IACAC,MAAA;MACA,KAAAnD,WAAA,QAAAmD,KAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}